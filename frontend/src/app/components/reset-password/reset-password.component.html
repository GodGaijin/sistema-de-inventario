<div class="container">
  <div class="reset-password-form">
    <h2>Restablecer Contraseña</h2>
    <p class="instructions">Ingresa el código de verificación que recibiste por email y tu nueva contraseña.</p>
    
    <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="verificationCode">Código de Verificación</label>
        <input 
          type="text" 
          id="verificationCode"
          formControlName="verificationCode" 
          placeholder="Ingresa el código de 6 dígitos"
          maxlength="6"
          required>
        <div class="error-message" *ngIf="resetPasswordForm.get('verificationCode')?.invalid && resetPasswordForm.get('verificationCode')?.touched">
          <span *ngIf="resetPasswordForm.get('verificationCode')?.errors?.['required']">El código de verificación es requerido</span>
          <span *ngIf="resetPasswordForm.get('verificationCode')?.errors?.['pattern']">El código debe tener 6 dígitos</span>
        </div>
      </div>

      <div class="form-group">
        <label for="newPassword">Nueva Contraseña</label>
        <input 
          type="password" 
          id="newPassword"
          formControlName="newPassword" 
          placeholder="Ingresa tu nueva contraseña"
          required>
        <div class="error-message" *ngIf="resetPasswordForm.get('newPassword')?.invalid && resetPasswordForm.get('newPassword')?.touched">
          <span *ngIf="resetPasswordForm.get('newPassword')?.errors?.['required']">La contraseña es requerida</span>
          <span *ngIf="resetPasswordForm.get('newPassword')?.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres</span>
        </div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirmar Contraseña</label>
        <input 
          type="password" 
          id="confirmPassword"
          formControlName="confirmPassword" 
          placeholder="Confirma tu nueva contraseña"
          required>
        <div class="error-message" *ngIf="resetPasswordForm.get('confirmPassword')?.invalid && resetPasswordForm.get('confirmPassword')?.touched">
          <span *ngIf="resetPasswordForm.get('confirmPassword')?.errors?.['required']">Confirmar contraseña es requerido</span>
          <span *ngIf="resetPasswordForm.get('confirmPassword')?.errors?.['passwordMismatch']">Las contraseñas no coinciden</span>
        </div>
      </div>

      <div class="password-requirements">
        <p><strong>La contraseña debe contener:</strong></p>
        <ul>
          <li>Al menos una letra</li>
          <li>Al menos un número</li>
          <li>Al menos un carácter especial</li>
          <li>Mínimo 6 caracteres</li>
        </ul>
      </div>

      <button 
        type="submit" 
        [disabled]="!resetPasswordForm.valid || isLoading"
        class="submit-btn">
        <span *ngIf="isLoading">Actualizando...</span>
        <span *ngIf="!isLoading">Actualizar Contraseña</span>
      </button>
    </form>

    <div class="message" *ngIf="message" [ngClass]="messageType">
      {{ message }}
    </div>
  </div>
</div> 